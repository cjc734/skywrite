<html>

<head>
    <title>Skywrite</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
    <script type="text/javascript" src="assets/Drawing.js"></script>
    
    <script type="text/javascript" src="assets/game.js"></script>
    <link rel="stylesheet" href="assets/styles.css">
  </head>
  <body ng-app="skywrite">
    <div ng-controller="GameController as game">
      <img src="assets/images/logo.png" id="logo">
      <div>
        <div ng-show="game.curState == 0">
            <input ng-model="game.nickname" placeholder="Enter Nickname">
            <button type="button" ng-click="game.join()">
              Set Name
            </button>
        </div>
        <div ng-show="game.curState == 1">
          Lobby:
          <ul>
            <li ng-repeat="player in game.players">
              {{player}}
            </li>
          </ul>
          <button type="button" ng-click="game.start()">
            Start Game!
          </button>
        </div>
        <div ng-show="game.curState == 2">
            <div id="canvasDiv"></div>
            <div ng-switch="game.isPilot">
              <div ng-switch-when="true">
                  You are the pilot! Your word is {{game.word}}
              </div>
              <div ng-switch-default>
                  Guess: <input ng-model="game.guess"><button type="button" ng-click="game.sendGuess()">Guess!</button>
              </div>
            </div>
			<div id="timerDiv">{{game.timeLeft}}</div>
            <audio id="sfx1" src="assets/sfx1.mp3" ></audio>
        </div>
        <div ng-show="game.curState == 3">
          <h2>GAME OVER!</h2>
          <h3>The word was {{game.word}}</h3>
          <div ng-if="game.winner">
            <h3>{{game.winner}} guessed correctly!</h3>
          </div>
          <button type="button" ng-click="game.reset()">
              Back to Lobby
          </button>
        </div>
      </div>
    </div>
  </body>
</html>